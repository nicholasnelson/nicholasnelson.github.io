@import 'tailwindcss';
@plugin '@tailwindcss/typography';

@import "./styles/horizon-tide-colors.css";
@import "./styles/prism-horizon-tide.css";
@import "./styles/prose-horizon.css";

@custom-variant dark (&:where(.dark, .dark *));

/* Map to Tailwind v4 color tokens */
@theme {
    --color-bg: oklch(98.511% 0.00011 271.152);
    --color-surface: oklch(96% 0.01042 261.894);
  /* primary */
  --color-primary-100: var(--primary-100);
  --color-primary-200: var(--primary-200);
  --color-primary-300: var(--primary-300);
  --color-primary-400: var(--primary-400);
  --color-primary-500: var(--primary-500);
  --color-primary-600: var(--primary-600);
  --color-primary-700: var(--primary-700);
  --color-primary-800: var(--primary-800);
  --color-primary-900: var(--primary-900);

  /* secondary */
  --color-secondary-100: var(--secondary-100);
  --color-secondary-200: var(--secondary-200);
  --color-secondary-300: var(--secondary-300);
  --color-secondary-400: var(--secondary-400);
  --color-secondary-500: var(--secondary-500);
  --color-secondary-600: var(--secondary-600);
  --color-secondary-700: var(--secondary-700);
  --color-secondary-800: var(--secondary-800);
  --color-secondary-900: var(--secondary-900);

  /* success */
  --color-success-100: var(--success-100);
  --color-success-200: var(--success-200);
  --color-success-300: var(--success-300);
  --color-success-400: var(--success-400);
  --color-success-500: var(--success-500);
  --color-success-600: var(--success-600);
  --color-success-700: var(--success-700);
  --color-success-800: var(--success-800);
  --color-success-900: var(--success-900);

  /* warning */
  --color-warning-100: var(--warning-100);
  --color-warning-200: var(--warning-200);
  --color-warning-300: var(--warning-300);
  --color-warning-400: var(--warning-400);
  --color-warning-500: var(--warning-500);
  --color-warning-600: var(--warning-600);
  --color-warning-700: var(--warning-700);
  --color-warning-800: var(--warning-800);
  --color-warning-900: var(--warning-900);

  /* error */
  --color-error-100: var(--error-100);
  --color-error-200: var(--error-200);
  --color-error-300: var(--error-300);
  --color-error-400: var(--error-400);
  --color-error-500: var(--error-500);
  --color-error-600: var(--error-600);
  --color-error-700: var(--error-700);
  --color-error-800: var(--error-800);
  --color-error-900: var(--error-900);
}

/* Dark variant remaps: flip the scale so utilities like bg-primary-100 become dark surfaces */
@layer theme {
  :root {
    @variant dark {
      --color-bg: oklch(25% 0.0278 248.883);
      --color-surface: oklch(28% 0.0278 248.883);
      /* primary */
      --color-primary-100: var(--primary-900);
      --color-primary-200: var(--primary-800);
      --color-primary-300: var(--primary-700);
      --color-primary-400: var(--primary-600);
      --color-primary-500: var(--primary-500);
      --color-primary-600: var(--primary-400);
      --color-primary-700: var(--primary-300);
      --color-primary-800: var(--primary-200);
      --color-primary-900: var(--primary-100);

      /* secondary */
      --color-secondary-100: var(--secondary-900);
      --color-secondary-200: var(--secondary-800);
      --color-secondary-300: var(--secondary-700);
      --color-secondary-400: var(--secondary-600);
      --color-secondary-500: var(--secondary-500);
      --color-secondary-600: var(--secondary-400);
      --color-secondary-700: var(--secondary-300);
      --color-secondary-800: var(--secondary-200);
      --color-secondary-900: var(--secondary-100);

      /* success */
      --color-success-100: var(--success-900);
      --color-success-200: var(--success-800);
      --color-success-300: var(--success-700);
      --color-success-400: var(--success-600);
      --color-success-500: var(--success-500);
      --color-success-600: var(--success-400);
      --color-success-700: var(--success-300);
      --color-success-800: var(--success-200);
      --color-success-900: var(--success-100);

      /* warning */
      --color-warning-100: var(--warning-900);
      --color-warning-200: var(--warning-800);
      --color-warning-300: var(--warning-700);
      --color-warning-400: var(--warning-600);
      --color-warning-500: var(--warning-500);
      --color-warning-600: var(--warning-400);
      --color-warning-700: var(--warning-300);
      --color-warning-800: var(--warning-200);
      --color-warning-900: var(--warning-100);

      /* error */
      --color-error-100: var(--error-900);
      --color-error-200: var(--error-800);
      --color-error-300: var(--error-700);
      --color-error-400: var(--error-600);
      --color-error-500: var(--error-500);
      --color-error-600: var(--error-400);
      --color-error-700: var(--error-300);
      --color-error-800: var(--error-200);
      --color-error-900: var(--error-100);
    }
  }
}


@layer base {
    html, body { @apply min-h-screen; }
  
    html { @apply bg-bg text-primary-900; }
    @variant dark { html { @apply bg-primary-900 text-primary-100; } }

    *, ::before, ::after {
        @apply transition-colors duration-200 ease-in-out;
    }

    @media (prefers-reduced-motion: reduce) {
        *, ::before, ::after { transition: none !important; }
    }
  }
  