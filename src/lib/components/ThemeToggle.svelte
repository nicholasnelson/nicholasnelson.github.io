<script lang="ts">
	import { theme } from '$lib/theme';
	const toggle = () => theme.update((t) => (t === 'dark' ? 'light' : 'dark'));
</script>

<button
	type="button"
	on:click={toggle}
	class={`relative inline-flex h-7 w-14 min-w-14 items-center rounded-full transition-colors
	        focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:outline-none
	        ${$theme === 'dark' ? 'bg-primary-300' : 'bg-primary-200 hover:bg-primary-300'}`}
	role="switch"
	aria-checked={$theme === 'dark'}
	aria-label="Toggle theme"
>
	<span class="sr-only">Toggle theme</span>
	<span
		class="pointer-events-none inline-flex h-6 w-6 translate-x-1 items-center justify-center rounded-full bg-bg shadow transition-transform"
		class:translate-x-7={$theme === 'dark'}
	>
		{#if $theme === 'dark'}
			<svg width="800px" height="800px" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"
				><path
					d="m46.18 15.1c.5 0-.07-.68-.25-1.06s-9.5.13-9.5.13a4.16 4.16 0 0 0 -.13 1.31c.13.19 9.38-.38 9.88-.38zm-9.63 5.69c.31.06.19-1 .13-1.25s-1.63-.06-1.94-.06l-.63 1.12s2.13.13 2.44.19zm-3.62 5.75s-.19 1 0 1.13 19.18-.19 19.5-.25 0-.5-.38-.82-18.87 0-19.12-.06zm-3.19 3.88s-.44 1-.13 1.12a74.33 74.33 0 0 0 8.19-.37c.5-.19-.06-.5-.25-.82s-7.55.07-7.81.07zm-5-19.88c.44 0 .56-.31 1.31-.81s2.95-.73 3.19-.81.12-.63-.13-.94-1.06-.13-2.93.44a5 5 0 0 0 -2.5 1.37s.62.75 1.06.75zm9.37 4.06c.38-.25 0-6.56-.12-6.87s-1.76-.19-1.94-.13-.37 6.38-.44 6.88 2.13.37 2.5.12zm-6.56-2c.5-.12.19-.68.19-.93s-4.44-.07-4.69-.13c0 0-.37 1-.19 1.13a29.86 29.86 0 0 0 4.69-.07zm3.88 7.4c-1.25-4.63-5.17-6.38-9.44-5.5-10.94 2.23-7.69 15.5.56 15.35s10.13-5.25 8.88-9.85zm-12.43 6.6c-1.63-2-3.94-8.43 3.19-10.25 2.81-.73 7.81-.35 7.55 6.5s-9.13 5.75-10.74 3.75zm3.81-8.18c-4.06 1-4.37 5.25-1.5 6.93s6.31-.12 6.38-2.68-1.38-5.12-4.89-4.25zm-.75 6a2.62 2.62 0 0 1 1-4.82 2.69 2.69 0 1 1 -1 4.82zm1.38-3.32a1.19 1.19 0 0 0 -.63 2.07 1.39 1.39 0 0 0 1.88-.63c.24-.75-.09-1.6-1.26-1.44zm-13.2 1.9a13.48 13.48 0 0 0 -1.75 8.1c.06.38 1.69.13 1.87-.06s0-.81.25-3.06a11 11 0 0 1 1.32-3.98c.07-.21-1.38-1.43-1.69-1zm48.42 8.42c-.09-.42-6.09-1.09-6.09-1.09s5.09-.16 5.75-.25.25-.58-.08-1.83a43.32 43.32 0 0 0 -2.5-5.17 1.81 1.81 0 0 0 1.42-.5c.5-.58-.92-2.41-1.59-3.58s-2.66-1.5-2.66-1.5a6 6 0 0 0 1.5-.25c.25-.17.5-.25.41-1.25s-3.82-4.29-4.75-4.71-4.75-.08-5-.17.59-.41.84-.58.66-.83.41-1.25-6.83-5-14.58-4.92c-12.74.17-20.08 7.92-24.58 16.09s-2.09 14.66-2.09 14.66a11.57 11.57 0 0 0 .42 1.88c.25.66 4.33 12.83 12.33 18.5s19.17 4 19.5 3.75-.08-5-.08-5 10.92-.67 11.25-1.09a8 8 0 0 0 .25-3.5c-.17-.66-12.17.25-12.42.25s.09-1.16.17-1.58 15.08-.33 15.58-.58.34-2.67.09-3.34-15.67.59-16.09.5-.08-.75-.08-.75l13.17-1.16a16.11 16.11 0 0 0 -.25-3.33c-.25-.25-9.09-.09-9.5-.09s-.75-.75-.75-1 2.33-.25 7-.25 12.41.42 12.41.42a11.06 11.06 0 0 0 1.5-2.75 31.17 31.17 0 0 0 -.91-4.54zm-48.8-11.57c3.57-5.25 9.19-13 22.14-14.12 5.24-.46 9.37 2.44 10.25 2.81s1.87.81 1.56 1.13-6 1.31-6.06 1.62-.19 1.63 0 1.69 10.5-.69 11.44-.25 4 2.94 3.62 3.12-13.75.19-13.94.5-.56 2.32 0 2.57 14.19.06 14.63.37 1.31 2.31 1.06 2.5-15.87-.06-16.25.38-.06 2.37.31 2.43 16.07.13 16.38.5 1.62 3.25 1.25 3.38-15.44.62-15.56 1 .06 1.75.31 1.87 14.56.69 14.87 1.19 1.19.63.13.69-17.31.69-32.94.37-16.26-.31-16.26-.31-.5-8.19 3.06-13.44zm47 16.82c-.43.12-19.93.25-20.06.68s-.06 3.19.25 3.32 10.13.43 10.13.43.18.63-.07.75-13.5 1-13.5 1.38-.06 2.56.32 2.87 15.75-.75 15.87-.43.31.75.06.75-15.62.87-15.75 1.18-.06 3.25.32 3.44 12.31-.37 12.37-.04.31.81 0 .87-12.19 1.13-12.19 1.36.69 4 .44 4.12-10.69 1.25-16.69-4.18-9.31-11.63-9.75-13.44-1.37-4.31-.75-4.44 14.32.25 24.57.19 25.06-.56 25.06-.38-.19 1.44-.63 1.57zm-37.06 2.43s1.25 2.25 1.94 2.57 7.12.18 7.37.12.19-1.62.07-2.12-6.5.06-7.13-.19-.56-1.69-.94-2.13-9.12.69-9.56.88.19 1.37.69 2.94 3.62 5.37 3.81 5.56h1.63l-1.19-1.81c-1.19-1.82-2.56-5.13-2.75-5.25s.87-.25 1.87-.38 4.19-.19 4.19-.19zm-.56 4a20.85 20.85 0 0 0 1.76 3.75c.5.44.62-.06.87-.31s-1.25-3.19-1.5-3.5-.94-.04-1.13.06zm8.76 4.82c-.19-.32-6.63.18-6.63.18s0 .75.19.88a58.49 58.49 0 0 0 6.5-.19c.49-.12.12-.56-.06-.87zm-7 3.87c-.76-.69-1.35-1.79-1.57-1.79s-1.07.13-.94.38a26.91 26.91 0 0 0 2.94 3c.25.06.68-.44.68-.44a9.53 9.53 0 0 0 -1.11-1.15zm9.44.81c-.25-.18-4.32.07-5 0 0 0-.19.82.12.94a45.29 45.29 0 0 0 5.06-.06c.43-.06.06-.69-.19-.88zm.17-7.6s.13 4.31.19 5.19.31.19.69.12.06-5 .06-5.25-.55-.06-.94-.06zm1.13-4.87a2.46 2.46 0 0 0 -.06 1.06c.12.31 2.43 0 2.68 0s0-.81-.12-1.06a4.81 4.81 0 0 0 -2.5.04zm-4-3.32c-.25 0-.19.88.25 1a55.22 55.22 0 0 0 6.56 0c.38-.12.13-.56.13-.81s-6.57-.15-6.94-.15z"
					fill="#ffffff"
				/></svg
			>
		{:else}
			<svg width="800px" height="800px" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"
				><path
					d="m31.36 47.66a2.64 2.64 0 0 0 -2.61 3.65c.81 1.67 4.19 1.85 5-.23a2.46 2.46 0 0 0 -2.39-3.42zm1.54 3.12c-.52 1.41-2.81 1.28-3.36.15a1.79 1.79 0 0 1 1.77-2.47 1.67 1.67 0 0 1 1.59 2.32zm-1.58 3a2.14 2.14 0 0 0 -2.12 3c.66 1.36 3.4 1.5 4-.18a2 2 0 0 0 -1.88-2.84zm1.11 2.47a1.43 1.43 0 0 1 -2.45.11 1.31 1.31 0 0 1 1.29-1.8 1.22 1.22 0 0 1 1.16 1.67zm8-6.88a2 2 0 0 0 -1.9-2.77 2.14 2.14 0 0 0 -2.12 3c.65 1.29 3.39 1.4 4.01-.25zm-3.24-.19a1.3 1.3 0 0 1 1.29-1.79 1.21 1.21 0 0 1 1.16 1.68 1.43 1.43 0 0 1 -2.46.09zm-11.92-2.43a2.15 2.15 0 0 0 -2.12 3c.66 1.35 3.4 1.5 4-.18a2 2 0 0 0 -1.88-2.82zm1.11 2.48a1.43 1.43 0 0 1 -2.45.11 1.3 1.3 0 0 1 1.29-1.8 1.21 1.21 0 0 1 1.16 1.69zm-3.17 2.47a2.14 2.14 0 0 0 -2.11 3c.66 1.35 3.39 1.5 4-.18a2 2 0 0 0 -1.89-2.82zm1.11 2.47a1.42 1.42 0 0 1 -2.44.12 1.3 1.3 0 0 1 1.28-1.8 1.21 1.21 0 0 1 1.16 1.68zm16-2.72a2.14 2.14 0 0 0 -2.12 3c.66 1.35 3.4 1.5 4-.19a2 2 0 0 0 -1.83-2.81zm1.11 2.47a1.43 1.43 0 0 1 -2.43.08 1.3 1.3 0 0 1 1.29-1.79 1.21 1.21 0 0 1 1.19 1.71zm15.77-30.6c-.2-.74-2.71-7.19-2.9-7.5s-3.25-.12-3.88-.05-1.54 1.28-1.54 1.28-6.09-13.31-6.6-13.68-8.19-.21-8.56 0-.19 9.13-.19 9.13a11.79 11.79 0 0 0 -3.53-.07s-.36-8.55-.49-8.86-6.26-.31-7.06 0-6 8.32-9.61 16.51a71.47 71.47 0 0 0 -4.79 15.68c-.31.19-1.18.14-1.36.46a34.42 34.42 0 0 0 1 7.67 1.53 1.53 0 0 0 1.61 1.11l1.31 2.54a12.19 12.19 0 0 0 3.2 3.94 7.68 7.68 0 0 0 -.71 2.07c0 .76 7 7.37 18.53 7.26s18.66-7.51 18.84-8.07a12.56 12.56 0 0 0 .07-2.44s1.85-1.41 4-5.89a15.38 15.38 0 0 0 .94-9.21s1.37-.68 1.52-1.2.45-9.93.25-10.68zm-21.38-17.82c.39-.4 4.87-.41 5.32 0s7 14.42 7.11 14.67a7.86 7.86 0 0 1 -.1 1.44 14 14 0 0 0 -7.1-5.11c-4.4-1.16-5.4-.95-5.4-1.14s.05-9.73.17-9.86zm0 11.44a27.7 27.7 0 0 1 7.37 2.42 11.23 11.23 0 0 1 4.66 5s-.57 2.7-.69 2.89c0 0-.21.19-.51.43a3.73 3.73 0 0 0 -.52-2.13 4.21 4.21 0 0 0 -5.13-1.43 3.84 3.84 0 0 0 -2.09 4.61 3.33 3.33 0 0 0 3.46 2.36l-3.86 3a7.16 7.16 0 0 0 -1.55-2.53 6.82 6.82 0 0 0 -1.51-.72s.23-13.65.35-13.9zm9.74 11.63-2 1.58c-1.76.49-3.55-.24-3.86-1.7a3 3 0 0 1 1.65-3.62 3.31 3.31 0 0 1 4.03 1.17 2.77 2.77 0 0 1 .16 2.57zm-7.61 9.9c.18 4.24-2.84 6.59-6.56 6.75a6 6 0 0 1 -6.05-5.53c-.17-2.44.09-8.13 6.21-8.22 3.45-.05 6.2 2.75 6.38 7zm-8.89-24.33a6.59 6.59 0 0 1 2.74-.43 4 4 0 0 1 2.32.52c.13.24.07 15.84-.24 15.91s-4 .39-4.12 0-.94-15.68-.7-16zm-9-4.32c1.63-2.66 2.72-4.49 3.15-4.56s4.75 0 4.82.27 0 7.32 0 7.32-1.24.9-1.22 1.52v.63a65.1 65.1 0 0 0 -11.84 5.05s3.49-7.57 5.13-10.23zm-7.31 15.82c1.92-2.86 6-5.42 8.37-6.55a37.23 37.23 0 0 1 6.06-2.24c.15 0 .82 12 .82 12l-1.24-1.72s-.45.34-.41.51 1.77 2.88 1.77 3-.39.36-.61.56a2.13 2.13 0 0 1 -.31.23 23.9 23.9 0 0 0 -2.08-2.71c-.18 0-.47.3-.43.37a33.63 33.63 0 0 1 1.91 2.81c-.06.11-.85.83-.85.83a15.66 15.66 0 0 0 -1.69-2.21c-.21 0-.5.36-.45.44s1.69 2.38 1.65 2.49-.53.7-.53.7a22.85 22.85 0 0 0 -1.88-2.3c-.14 0-.49.41-.42.51s1.81 2.34 1.82 2.4-.41.76-.44.91l-.06.21a36.84 36.84 0 0 0 -2.53-3.16c-.14 0-.45.24-.41.36s2.58 3.76 2.58 3.76a8.9 8.9 0 0 1 -1.1.11c-.06 0-2.69-3.37-2.76-3.34s-.53.39-.53.47 2.31 3 2.23 3a9.77 9.77 0 0 1 -1.83.1c-.17-.1-1.65-2.32-1.76-2.32s-.49.31-.45.41 1.21 2 1.15 2-3.89-.32-5.81-.57-2.91-.61-2.89-.84 1.09-7.22 3.11-10.22zm-3.08 17.62c-.15-.13-1.52-5.79-1-5.86 1-.14 5.55 1 9.06 1.13s5.91.07 5.91.16.12 1.62.12 1.62-13.93 3.07-14.09 2.95zm2.49 3.85c-.65-1.36-1.08-2.54-.87-2.64s12.71-2.88 12.82-2.79a11.74 11.74 0 0 1 .59 1.18 14.08 14.08 0 0 1 -1.7 1.53c0-.12-.84-1.45-1-1.41s-.46.16-.43.29.82 1.57.82 1.57-.77.8-.87.68a24.76 24.76 0 0 0 -1.52-2.22c-.13 0-.46.41-.46.41a15.31 15.31 0 0 1 1.2 2.36 5.85 5.85 0 0 1 -.95.64 17.36 17.36 0 0 0 -1.93-2.59c-.25 0-.81.18-.77.46s1.71 2.71 1.61 2.78l-.8.54s-2-3.11-2.15-3.11a4.74 4.74 0 0 0 -.81.39s2.06 3.33 2.06 3.43a8.77 8.77 0 0 1 -.71.58 36.9 36.9 0 0 0 -2.67-3.7c-.15.1-.68.29-.61.42s2.45 4 2.45 4l-.67.67a20.11 20.11 0 0 1 -2.63-3.47zm19 12.34c-11.24.48-15.84-5.68-15.76-6.45s9.77-8.76 10.37-8.49c0 0 1.61 2.4 5.7 2.19a9.74 9.74 0 0 0 6.53-3.2l7.09 4.29c2.05 1.24 3.3 2.84 3.28 3.31s-6.03 7.9-17.24 8.35zm20.36-13.29a5.15 5.15 0 0 1 -.91 1.18 12.42 12.42 0 0 0 -.68-2.46c-.18 0-.84.17-.74.42s.68 2.86.69 3a5.07 5.07 0 0 1 -.7.83 1.43 1.43 0 0 1 -.32-.31c-.07-.12-.9-4.33-1-4.39s-.82-.29-.81 0 .76 3.7.63 3.67-1.68-1.23-1.68-1.23 0-2.69-.3-2.87-.79-.36-.79-.24.11 2.35.11 2.35l-1.24-1s.13-1.38-.06-1.5-1-.38-1-.29-.16 1-.16 1-3.29-1.87-3.33-2a1.74 1.74 0 0 1 .12-.54c.15 0 13.59 1.39 13.56 1.57s-1.03 2.15-1.39 2.81zm2.48-6.24a3.86 3.86 0 0 1 -.56 1.89s-14-1-14-1.09.06-1.72.06-1.72c.31 0 14.38-2.89 14.48-2.64a28.69 28.69 0 0 1 .02 3.56zm1.23-5.8s-15.63 3.62-15.82 3.38-.79-2-.48-2.18 10-7.89 10.21-8.27.64-5.26.76-5.64 1.1-3.41 1.1-3.41 1.68-.35 2.06 0a51.76 51.76 0 0 1 2.44 6.08c.02.22-.28 10.04-.28 10.04zm-32.76-24.57a2.65 2.65 0 0 0 -1.49 4c.74 1 3.71 1 4.23-1.05a2.32 2.32 0 0 0 -2.74-2.95zm2.1 2.76a1.91 1.91 0 0 1 -3.05.76 1.91 1.91 0 0 1 1.07-2.88 1.66 1.66 0 0 1 1.98 2.12zm26.22 9.89a35 35 0 0 0 -.55 3.89c0 .12 1.07 0 1.07 0s.33-3.63.26-3.76a1 1 0 0 0 -.78-.13zm-8.36-9.92a2.32 2.32 0 0 0 -2.75-2.95 2.65 2.65 0 0 0 -1.48 4c.74 1.02 3.71.99 4.23-1.05zm-2.62-2.28a1.67 1.67 0 0 1 2 2.13 1.92 1.92 0 0 1 -3 .76 1.92 1.92 0 0 1 1-2.89zm-19.16 21a3.46 3.46 0 0 0 1.86-5.16 4.19 4.19 0 0 0 -5.15-1.46 3.85 3.85 0 0 0 -2.1 4.6c.42 2.02 3 2.94 5.39 2.02zm-2.92-5.92a3.3 3.3 0 0 1 4.05 1.15 2.72 2.72 0 0 1 -1.46 4.06c-1.88.73-3.92 0-4.24-1.58a3 3 0 0 1 1.65-3.63zm2.21-2.75a4.38 4.38 0 0 1 1.32-1.13c1-.67 2.61-1.05 2.6-1.17a2.1 2.1 0 0 0 -.23-.75c-.1-.12-.34.07-2.32 1a7.41 7.41 0 0 0 -2.5 1.61c.03.21 1.13.44 1.13.44zm11.16 10.67c-2 .41-3 2.81-2.31 4.89s5 1.78 5.65-.3-.84-5.08-3.34-4.59zm2.57 4.2c-.49 1.52-3.6 1.74-4.14.22a2.7 2.7 0 0 1 1.69-3.58c1.83-.35 2.95 1.88 2.45 3.4z"
					fill="#000000"
				/></svg
			>
		{/if}
	</span>
</button>
